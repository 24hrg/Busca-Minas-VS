:root{
  --cell-size: 34px;
  --gap: 6px;
  --bg:#f3f6fb;
  --card:#ffffff;
  --muted:#667085;
  --accent:#2563eb;
}
*{box-sizing:border-box}

body{
  font-family: Inter, Roboto, system-ui, -apple-system, "Segoe UI", Arial;
  background: linear-gradient(180deg,var(--bg), #e9f0ff);
  min-height:100vh; margin:0; display:flex; align-items:center; justify-content:center; padding:28px;
}
.app-shell{width:min(1000px,96vw); background:var(--card); border-radius:12px; box-shadow:0 10px 30px rgba(20,30,80,0.12); overflow:hidden}
.app-header{display:flex;align-items:center;justify-content:space-between;padding:18px 22px;border-bottom:1px solid #eef3fb}
.brand h1{margin:0;font-size:20px}
.brand .subtitle{margin:2px 0 0;color:var(--muted);font-size:12px}
.controls{display:flex;align-items:center;gap:14px}
.controls select{padding:8px 10px;border-radius:8px;border:1px solid #e6eefc;background:white}
.scoreboard{display:flex;align-items:center;gap:12px}
.counter{background:#071129;color:#ff4d4d;padding:6px 12px;border-radius:8px;min-width:54px;text-align:center;font-weight:700;box-shadow:inset 0 -2px 0 rgba(0,0,0,0.06)}
.face{width:44px;height:44px;border-radius:10px;border:none;background:linear-gradient(180deg,#fff,#eef6ff);display:inline-flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 4px 10px rgba(20,30,80,0.08)}
.face svg{width:26px;height:26px}

.bestTime{min-width:56px;padding:6px 10px;border-radius:8px;background:linear-gradient(180deg,#f8fbff,#f1f7ff);color:var(--muted);font-size:13px;text-align:center;border:1px solid #eef3fb}

.sound-toggle{padding:8px 10px;border-radius:8px;border:none;background:transparent;cursor:pointer;font-size:16px}
.sound-toggle[aria-pressed="true"]{opacity:0.6}

.main{display:flex;gap:18px;padding:20px}
.panel{width:220px;padding:12px}
.panel .status{margin-top:12px;color:var(--muted)}
.board-container{flex:1;display:flex;align-items:center;justify-content:center;overflow:auto;padding:8px;min-width:0}
.board{display:grid;gap:var(--gap);background:linear-gradient(180deg,#dfefff,#cfdfff);padding:18px;border-radius:12px;width:fit-content;margin:auto}
.cell{width:var(--cell-size);height:var(--cell-size);display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#f7fbff,#e4eefa);border-radius:6px;cursor:pointer;user-select:none;font-weight:700;color:#0b2b47;box-shadow:0 4px 6px rgba(10,20,40,0.06)}
.cell.revealed{background:linear-gradient(180deg,#ffffff,#f1f7ff);cursor:default;box-shadow:inset 0 0 0 1px rgba(0,0,0,0.03);transform:translateY(0);}
.cell{transition:transform .14s ease, box-shadow .14s ease, background .14s ease}
.cell:hover{transform:translateY(-4px);box-shadow:0 8px 18px rgba(10,20,40,0.08)}

/* reveal animation */
@keyframes popReveal{0%{transform:scale(.92);opacity:0}50%{transform:scale(1.02);opacity:1}100%{transform:scale(1);opacity:1}}
.cell.revealed{animation:popReveal .18s ease both}

/* chording visual */
.chord{outline:3px solid rgba(37,99,235,0.14);box-shadow:0 6px 18px rgba(37,99,235,0.08);}

/* focus styles for keyboard */
.cell:focus{outline:2px solid var(--accent);box-shadow:0 8px 18px rgba(37,99,235,0.08);transform:translateY(-4px)}

.leaderboard{margin-top:16px;background:linear-gradient(180deg,#fbfdff,#f6f9ff);padding:10px;border-radius:8px;border:1px solid #eef3fb}
.leaderboard h3{margin:0 0 6px 0;font-size:14px}
.leaderboard ol{padding-left:18px;margin:0 0 8px 0}
.leaderboard .small{font-size:12px;padding:6px 8px;border-radius:6px;border:none;background:#eef6ff;color:var(--accent);cursor:pointer}
.cell.flagged{background:linear-gradient(180deg,#fff0f0,#ffecec)}
.cell.mine{background:linear-gradient(180deg,#fff0f0,#ffdede);color:#b21b1b}
.cell .num{font-weight:800}
.cell.revealed .num{font-size:14px}
.cell .emoji{font-size:16px}

/* number colors */
.n1{color:#2068f0}
.n2{color:#059669}
.n3{color:#ef4444}
.n4{color:#3730a3}
.n5{color:#b91c1c}
.n6{color:#0891b2}
.n7{color:#0f172a}
.n8{color:#374151}

.app-footer{padding:10px 18px;border-top:1px solid #eef3fb;text-align:right;color:var(--muted);font-size:12px}

/* modal */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(8,12,30,0.35);opacity:0;pointer-events:none;transition:opacity .18s}
.modal[aria-hidden="false"]{opacity:1;pointer-events:auto}
.modal-card{background:white;padding:22px;border-radius:10px;min-width:320px;box-shadow:0 12px 40px rgba(2,6,23,0.28);text-align:center}
.modal-actions{margin-top:14px}
.modal-actions button{padding:8px 14px;border-radius:8px;border:none;background:var(--accent);color:white;cursor:pointer}

/* name modal specific */
#nameModal .modal-card{min-width:320px;max-width:420px}
#nameModal input#playerName{width:100%;padding:10px 12px;margin-top:8px;border-radius:8px;border:1px solid #e6eefc}
#nameModal .modal-actions{display:flex;gap:8px;justify-content:center}
#nameModal .modal-actions button{min-width:96px}

/* responsive: smaller cells on small screens and tighter layout */
@media (max-width:520px){
  :root{--cell-size:28px}
  .app-header{padding:12px}
  .main{padding:12px;gap:12px}
  .panel{display:none}
  .app-shell{width:98vw}
}


/* accessibility */
.visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}

@media (max-width:800px){
  .main{flex-direction:column}
  .panel{width:100%}
  :root{--cell-size:30px}
}

